---
title: '通过堡垒机/跳板机实现文件在服务器之间的互传'
date: '2021/05/03 14:59:21'
categories:
   - nginx
tags:
   - linux
toc_level: 3
version: 3
---
### [](about:blank#%E9%80%9A%E8%BF%87%E5%A0%A1%E5%9E%92%E6%9C%BA-%E8%B7%B3%E6%9D%BF%E6%9C%BA%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BA%92%E4%BC%A0 "通过堡垒机/跳板机实现文件在服务器之间的互传")通过堡垒机/跳板机实现文件在服务器之间的互传

今日任务:从本地上传到测试服务器，再放到生产环境下运行代码

##### [](about:blank#%E4%B8%80%E3%80%81%E5%A0%A1%E5%9E%92%E6%9C%BA "一、堡垒机")一、堡垒机

堡垒机也叫跳板机。

日常开发中，有时候需要连接远程服务器。为了安全性等方面考虑，连接远程服务器之前，需要先连接堡垒机。

如图:

![](images/apifist.png)

##### [](about:blank#%E4%BA%8C%E3%80%81-SCP%E8%AF%AD%E6%B3%95 "二、 SCP语法")二、 SCP语法

```
scp [-1246BCpqrv] [-c cipher] [-F ssh_config] [-i identity_file]
[-l limit] [-o ssh_option] [-P port] [-S program]
[[user@]host1:]file1 [...] [[user@]host2:]file2
```

##### [](about:blank#%E4%B8%89%E3%80%81%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93 "三、服务器之间的文件传输")三、服务器之间的文件传输

scp {目标文件} {堡垒机用户名}@{堡垒机地址}:{堡垒机上放置文件的目录}

常用命令:

\-r： 递归复制整个目录.

\-P: prot注意P是大写，port是指定数据传输用到的端口号

四、互传方法

如果有一台正常带有密码的机器推送到一台堡垒机上时。

普通的用法是无法实现传输的！！！！！

```
scp -r root@服务器地址:/目录   .(当前文件下)
```

注意:使用时务必看好文件目录是否正确！

##### [](about:blank#%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93 "五、总结")五、总结

scp命令是很好用的，用在我们服务器与服务器之间的传输文件，这样减少你去COPY啦！！！

注意事项记住就好，语法规则不是很难，大家看看吧！

  

